
R version 3.4.0 (2017-04-21) -- "You Stupid Darkness"
Copyright (C) 2017 The R Foundation for Statistical Computing
Platform: x86_64-pc-linux-gnu (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

  Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> args <- (commandArgs(trailingOnly = TRUE))
> for (i in 1:length(args)) {
+   eval(parse(text = args[[i]]))
+ }
> 
> print(gtf)
[1] "/home/Shared/data/annotation/Human/Ensembl_GRCh38.90/gtf/Homo_sapiens.GRCh38.90.gtf"
> print(outrds)
[1] "reference/junctions_by_transcript.rds"
> 
> suppressPackageStartupMessages(library(ensembldb))
> suppressPackageStartupMessages(library(Rsamtools))
> suppressPackageStartupMessages(library(GenomicRanges))
> 
> ## Construct ensembldb object from gtf file
> ensDbFromGtf(gtf, path = dirname(outrds))
Importing GTF file ... OK
Processing metadata ... OK
Processing genes ... 
 Attribute availability:
  o gene_id ... OK
  o gene_name ... OK
  o entrezid ... Nope
  o gene_biotype ... OK
OK
Processing transcripts ... 
 Attribute availability:
  o transcript_id ... OK
  o gene_id ... OK
  o transcript_biotype ... OK
OK
Processing exons ... OK
Processing chromosomes ... Fetch seqlengths from ensembl ... Error in new_handle() : An unknown option was passed in to libcurl
In addition: Warning message:
In ensDbFromGRanges(GTF, outfile = outfile, path = path, organism = organism,  :
   I'm missing column(s): 'entrezid'. The corresponding database column(s) will be empty!
Error in new_handle() : An unknown option was passed in to libcurl
Error in new_handle() : An unknown option was passed in to libcurl
Error in new_handle() : An unknown option was passed in to libcurl
Error in new_handle() : An unknown option was passed in to libcurl
FAIL
OK
Generating index ... OK
  -------------
Verifying validity of the information in the database:
Checking transcripts ... OK
Checking exons ... OK
[1] "reference/Homo_sapiens.GRCh38.90.sqlite"
There were 13 warnings (use warnings() to see them)
> 
> ## Get list of transcripts
> txdb <- EnsDb(paste0(dirname(outrds), "/", gsub("gtf", "sqlite", basename(gtf))))
> 
> ## Get list of exons by transcript
> ebt <- exonsBy(txdb, by = "tx")
> 
> ## Junctions by transcript
> jbt <- endoapply(ebt, function(w) {
+   setdiff(range(w), w)
+ })
Warning message:
call dbDisconnect() when finished working with a connection 
> 
> saveRDS(jbt, file = outrds)
> 
> sessionInfo()
R version 3.4.0 (2017-04-21)
Platform: x86_64-pc-linux-gnu (64-bit)
Running under: Ubuntu 14.04.5 LTS

Matrix products: default
BLAS: /usr/local/R/R-3.4.0/lib/libRblas.so
LAPACK: /usr/local/R/R-3.4.0/lib/libRlapack.so

locale:
 [1] LC_CTYPE=en_CA.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_CA.UTF-8        LC_COLLATE=en_CA.UTF-8    
 [5] LC_MONETARY=en_CA.UTF-8    LC_MESSAGES=en_CA.UTF-8   
 [7] LC_PAPER=en_CA.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_CA.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] stats4    parallel  stats     graphics  grDevices utils     datasets 
[8] methods   base     

other attached packages:
 [1] Rsamtools_1.28.0       Biostrings_2.44.2      XVector_0.16.0        
 [4] ensembldb_2.0.4        AnnotationFilter_1.0.0 GenomicFeatures_1.28.5
 [7] AnnotationDbi_1.38.2   Biobase_2.36.2         GenomicRanges_1.28.5  
[10] GenomeInfoDb_1.12.2    IRanges_2.10.3         S4Vectors_0.14.5      
[13] BiocGenerics_0.22.0   

loaded via a namespace (and not attached):
 [1] Rcpp_0.12.13                  BiocInstaller_1.26.1         
 [3] AnnotationHub_2.8.2           compiler_3.4.0               
 [5] ProtGenerics_1.8.0            bitops_1.0-6                 
 [7] tools_3.4.0                   zlibbioc_1.22.0              
 [9] biomaRt_2.32.1                digest_0.6.12                
[11] bit_1.1-12                    RSQLite_2.0                  
[13] memoise_1.1.0                 tibble_1.3.4                 
[15] lattice_0.20-35               pkgconfig_2.0.1              
[17] rlang_0.1.2                   Matrix_1.2-11                
[19] shiny_1.0.5                   DelayedArray_0.2.7           
[21] DBI_0.7                       curl_2.8.1                   
[23] yaml_2.1.14                   GenomeInfoDbData_0.99.0      
[25] httr_1.3.1                    rtracklayer_1.36.4           
[27] bit64_0.9-7                   grid_3.4.0                   
[29] R6_2.2.2                      XML_3.98-1.9                 
[31] BiocParallel_1.10.1           blob_1.1.0                   
[33] htmltools_0.3.6               matrixStats_0.52.2           
[35] GenomicAlignments_1.12.2      SummarizedExperiment_1.6.5   
[37] xtable_1.8-2                  mime_0.5                     
[39] interactiveDisplayBase_1.14.0 httpuv_1.3.5                 
[41] RCurl_1.95-4.8                lazyeval_0.2.0               
> date()
[1] "Sun Nov  5 22:21:59 2017"
> 
> proc.time()
    user   system  elapsed 
17942.77    91.73 18074.47 
